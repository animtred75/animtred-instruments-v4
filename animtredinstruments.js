/*
Midi Sound Engine v4.1

Tridashie Sound Engine?

my custom sound engine https://scratch.mit.edu/projects/561308953/

My Soundbank 13,577,818 Byte

2023/04/2 Anim Tred Studio, LLC
*/
!function(d) {
    var j = {};
    function h(k) {
        if (j[k]) {
            return j[k].exports
        }
        var e = j[k] = {
            i: k,
            l: false,
            exports: {}
        };
        return d[k].call(e.exports, e, e.exports, h),
        e.l = true,
        e.exports
    }
    return h.path = "",
    h('./src/index.js')
}({
    './src/soundbank.js': function(z, x, c) {
        var gh = {
            "snare drum": {
                "title": "Pinkie the Babysitter (Baby Cakes) | MLP: FiM [HD]",
                "source": "https://youtu.be/TJ6w9LRH7ts?t=60",
                "fileName": "snare-drum"
            },
            "side stick": {
                "title": "MLP: PONY LIFE CAPITULO 18 REACCIÃ“N! DERPYY!!",
                "source": null,
                "fileName": "side-stick",
                "volume": 0.7
            },
            "crash cymbal": {
                "title": "Pinkie the Babysitter (Baby Cakes) | MLP: FiM [HD]",
                "source": "https://youtu.be/TJ6w9LRH7ts?t=60",
                "fileName": "crash-cymbal",
                "volume": 0.85
            },
            "open hi hat": {
                "title": "My little pony-season 8 episode 10:The Break Up Breakdown",
                "source": "https://youtu.be/S3sIFvA2b-U?t=398",
                "fileName": "open-hi-hat",
                "volume": 0.5
            },
            "closed hi hat": {
                "title": "My little pony-season 8 episode 10:The Break Up Breakdown",
                "source": "https://youtu.be/S3sIFvA2b-U?t=398",
                "fileName": "close-dhi-hat",
                "volume": 0.5
            },
            "low floor tom": {
                "title": "My Little Pony Season 5 Episode 9",
                "source": "https://youtube.com/watch?v=lzpUO8-Xowk&t=471s",
                "fileName": "low-floor-tom"
            },
            "high floor tom": {
                "title": "My Little Pony Season 5 Episode 9",
                "source": "https://youtube.com/watch?v=lzpUO8-Xowk&t=471s",
                "fileName": "high-floor-tom"
            },
            "low tom": {
                "title": "My Little Pony Season 5 Episode 9",
                "source": "https://youtube.com/watch?v=lzpUO8-Xowk&t=471s",
                "fileName": "low-tom"
            },
            "low mid tom": {
                "title": "My Little Pony Season 5 Episode 9",
                "source": "https://youtube.com/watch?v=lzpUO8-Xowk&t=471s",
                "fileName": "low-mid-tom"
            },
            "hi mid tom": {
                "title": "My Little Pony Season 5 Episode 9",
                "source": "https://youtube.com/watch?v=lzpUO8-Xowk&t=471s",
                "fileName": "hi mid tom"
            },
            "high tom": {
                "title": "My Little Pony Season 5 Episode 9",
                "source": "https://youtube.com/watch?v=lzpUO8-Xowk&t=471s",
                "fileName": "high-tom"
            },
            "tambourine": {
                "title": "Daddy Pig Plays The Drums!  | @Peppa Pig - Official Channel",
                "source": "https://youtu.be/aHEhixFSt-0?t=51",
                "fileName": "tambourine",
                "volume": 0.35
            },
            "hand": {
                "title": "When I'm Sweeping",
                "source": "https://youtu.be/u9l9F2H1yn0?t=16",
                "fileName": "hand",
                "volume": 0.8
            },
            "claves": {
                "title": "My little pony-season 8 episode 10:The Break Up Breakdown",
                "source": "https://youtu.be/S3sIFvA2b-U?t=22",
                "fileName": "claves",
                "volume": 0.35
            },
            "wood": {
                "title": "Friendship is Randomly Musical 1",
                "source": "https://youtube.com/watch?v=nX1WTsUjCLM&t=67s",
                "fileName": "wood",
                "volume": 0.9
            },
            "cowbell": {
                "title": "Chicken Little",
                "source": null,
                "fileName": "cowbell",
                "volume": 0.63
            },
            "triangle": {
                "title": "[Tridashie] Friendship is Randomly Musical 2 [REUPLOAD]",
                "source": "https://youtu.be/y7ho58raWac?t=30",
                "fileName": "triangle",
                "volume": 0.5
            },
            "bongo": {
                "title": "Daddy Pig Plays The Drums!  | @Peppa Pig - Official Channel",
                "source": "https://youtu.be/aHEhixFSt-0?t=30",
                "fileName": "bongo"
            },
            "conga": {
                "title": "My Little Pony Friendship is Magic season 2 episode 19 \"Putting Your Hoof Down\"",
                "source": "https://youtu.be/qjhL0p3dHwM?t=38",
                "fileName": "conga"
            },
            "cabasa": {
                "title": "My little pony season 8 episode 4(Fake it 'Til you make it)",
                "source": "https://youtu.be/HGK7o5TVVF4?t=1300",
                "fileName": "cabasa"
            },
            "long guiro": {
                "title": "Daddy Pig Plays The Drums!  | @Peppa Pig - Official Channel",
                "source": "https://youtu.be/aHEhixFSt-0?t=63",
                "fileName": "long-guiro"
            },
            "vibraslap": {
                "title": "My little pony-season 8 episode 10:The Break Up Breakdown",
                "source": "https://youtu.be/S3sIFvA2b-U?t=22",
                "fileName": "vibraslap",
                "volume": 0.22
            },
            "cuica": {
                "title": "Friendship is Randomly Musical 8",
                "source": "https://youtu.be/JQtbvAmwYVI?t=67",
                "fileName": "cuica"
            },
            "short whistle": {
                "title": "My Little Pony friendship is magic season 2 episode 7 \"May the Best Pet Win!\"",
                "source": "https://youtu.be/GpSNka9ft-w?t=425",
                "fileName": "short-whistle",
                "volume": 0.75
            },
            "long whistle": {
                "title": "My Little Pony friendship is magic season 2 episode 7 \"May the Best Pet Win!\"",
                "source": "https://youtu.be/GpSNka9ft-w?t=425",
                "fileName": "long-whistle",
                "volume": 0.7
            },
            "short guiro": {
                "title": "Daddy Pig Plays The Drums!  | @Peppa Pig - Official Channel",
                "source": "https://youtu.be/aHEhixFSt-0?t=63",
                "fileName": "short-guiro",
                "volume": 0.45
            },
            "low wood": {
                "title": "Friendship is Randomly Musical 1",
                "source": "https://youtube.com/watch?v=nX1WTsUjCLM&t=67s",
                "fileName": "low-wood"
            },
            "hi bongo": {
                "title": "Daddy Pig Plays The Drums!  | @Peppa Pig - Official Channel",
                "source": "https://youtu.be/aHEhixFSt-0?t=30",
                "fileName": "hi-bongo"
            },
            "low cuica": {
                "title": "Friendship is Randomly Musical 8",
                "source": "https://youtu.be/JQtbvAmwYVI?t=67",
                "fileName": "low-cuica"
            },
            "mute triangle": {
                "title": "[Tridashie] Friendship is Randomly Musical 2 [REUPLOAD]",
                "source": "https://youtu.be/y7ho58raWac?t=30",
                "fileName": "mute-triangle",
                "volume": 0.5
            },
            "high agogo": {
                "title": "My Little Pony: FIM Season 9 Episode 15 (2,4,6 Greaaat)",
                "source": "https://youtu.be/MluslXu-Pnk?t=937",
                "fileName": "high-agogo",
                "volume": 0.7
            },
            "low agogo": {
                "title": "My Little Pony: FIM Season 9 Episode 15 (2,4,6 Greaaat)",
                "source": "https://youtu.be/MluslXu-Pnk?t=937",
                "fileName": "low-agogo",
                "volume": 0.7
            },
            "open conga": {
                "title": "Peppa Pig Makes Music Instrument with Marbles | Peppa Pig Official Family Kids Cartoon",
                "source": "https://youtu.be/eGb3Edtrm1s?t=64",
                "fileName": "open-conga"
            },
            "mute conga": {
                "title": "Peppa Pig Makes Music Instrument with Marbles | Peppa Pig Official Family Kids Cartoon",
                "source": "https://youtu.be/eGb3Edtrm1s?t=64",
                "fileName": "mute-conga"
            },
            "acoustic bass drum": {
                "title": "Friendship is Musical | Season 3",
                "source": "https://youtu.be/7WFZEuvZG0s?t=83",
                "fileName": "acoustic-bass-drum",
                "volume": 0.73
            }
        }
          , gj = {
            "piano": {
                "title": "Friendship is Musical | Season 1 Episode 17-18",
                "source": "https://youtu.be/_CZQ6tfivVs?t=89",
                "dirName": "piano",
                "volume": [[36, 0.8], [48, 0.65], [60, 0.4], [72, 0.3]],
                "releaseTime": 0.12
            },
            "electric piano": {
                "title": "My Little Pony: Friendship is Magic - Season 4 Episode 3",
                "source": "https://youtu.be/oqaH8rTKu8M?t=820",
                "dirName": "electric-piano",
                "volume": 0.7,
                "releaseTime": 0.12
            },
            "organ": {
                "title": "My Little Pony : Friendship is Magic Season 1 Episode 22",
                "source": "https://youtu.be/csuoJQH6Axs?t=176",
                "dirName": "organ",
                "volume": [[48, 0.72], [60, 0.68], [72, 0.6]],
                "releasePatch": 52,
                "releaseTime": 0.12
            },
            "guitar": {
                "title": "Bright Mac and Pear Butter's Love Story (The Perfect Pear) | MLP: FiM [HD]",
                "source": "https://youtu.be/Flv6_BrwPVU?t=193",
                "dirName": "guitar",
                "volume": [[48, 0.62], [60, 0.58]],
                "releaseTime": 0.12
            },
            "electric guitar": {
                "title": "Friendship is Musical VGM #1",
                "source": "https://youtu.be/qqB2J3-rMIc?t=12",
                "dirName": "electric-guitar",
                "volume": 0.5,
                "releasePatch": 60,
                "releaseTime": 0.12
            },
            "bass": {
                "title": "Friendship is Musical Season 2 First Half",
                "source": "https://youtu.be/yqYQoVwFn4E?t=143",
                "dirName": "bass",
                "volume": [[36, 0.52], [48, 0.42], [60, 0.38], [72, 0.33]],
                "releasePatch": 57,
                "releaseTime": 0.12
            },
            "pizzicato": {
                "title": "Friendship is Musical | Season 3",
                "source": "https://youtu.be/7WFZEuvZG0s?t=168",
                "dirName": "pizzicato",
                "volume": [[48, 0.5], [60, 0.42]],
                "releasePatch": 47,
                "releaseTime": 0.25
            },
            "harmonica": {
                "title": "Crescend Cinnamon on Twitter: \"https://t.co/zNTcb7oUSz\" / Twitter",
                "source": "https://t.co/zNTcb7oUSz",
                "dirName": "harmonica",
                "volume": 0.5,
                "loop": true
            },
            "clarinet": {
                "title": "My Little Pony Friendship Is Magic Season 4 Episode 21 Testing, 1, 2, 3 HD",
                "source": "https://youtu.be/RGIFQn8rlXw?t=282",
                "dirName": "clarinet",
                "volume": 0.6,
                "loop": true
            },
            "saxophone": {
                "title": "My Little Pony Friendship is Magic season 2 episode 22 \"Hurricane Fluttershy\"",
                "source": "https://youtu.be/YK7vf0OkmRQ?t=953",
                "dirName": "saxophone",
                "volume": 0.72,
                "loop": true,
                "releasePatch": 59.75
            },
            "violin": {
                "title": "Peppa Pig - Musical Instruments (full episode)",
                "source": "https://youtu.be/n4gsHAH_q6s?t=69",
                "dirName": "violin",
                "volume": [[60, 0.62], [72, 0.58]],
                "loop": true,
                "releaseTime": 0.12
            },
            "violin_2": {
                "title": "Peppa Pig - Musical Instruments (full episode)",
                "source": "https://youtu.be/n4gsHAH_q6s?t=69",
                "dirName": "violin_2",
                "volume": [[60, 0.58], [72, 0.53]],
                "loop": true,
                "releaseTime": 0.25
            },
            "overdriven guitar": {
                "title": "Friendship is Musical VGM #1",
                "source": "https://youtu.be/qqB2J3-rMIc?t=24",
                "dirName": "overdriven-guitar",
                "volume": [[48, 0.74], [60, 0.66]],
                "loop": true,
                "releasePatch": 61
            },
            "flute": {
                "title": "Friendship is Musical | Season 5 (First Half)",
                "source": "https://youtu.be/5pcCX7904d4?t=117",
                "dirName": "flute",
                "volume": [[60, 0.68], [72, 0.48]],
                "loop": true,
                "releasePatch": 63
            },
            "wooden flute": {
                "title": "Peppa Pig Makes Music Instrument with Marbles | Peppa Pig Official Family Kids Cartoon",
                "source": "https://youtu.be/eGb3Edtrm1s?t=114",
                "dirName": "wooden-flute",
                "volume": [[60, 0.8], [72, 0.7]],
                "loop": true,
                "releasePatch": 58
            },
            "bassoon": {
                "title": "Friendship is Randomly Musical 5",
                "source": "https://youtu.be/uoHPvvPGcAw?t=77",
                "dirName": "bassoon",
                "volume": [[36, 0.68], [48, 0.6], [60, 0.48], [72, 0.42]],
                "loop": true
            },
            "choir": {
                "title": "Friendship is Musical | Season 1 Episode 21-22",
                "source": "https://youtu.be/UZRoOAzI3wo?t=1",
                "dirName": "choir",
                "volume": [[60, 0.6], [72, 0.54]],
                "loop": true,
                "releasePatch": 55,
                "releaseTime": 0.15
            },
            "vibraphone": {
                "title": "My Little Pony friendship is magic season 2 episode 10 \"Secret of My Excess\"",
                "source": "https://youtu.be/m9xyYfih99Q?t=49",
                "dirName": "vibraphone",
                "volume": 0.52,
                "releasePatch": 58,
                "releaseTime": 0.1
            },
            "music box": {
                "title": "Friendship is Randomly Musical 3 [REUPLOAD]",
                "source": "https://youtu.be/rG5ukrHNqE4?t=14",
                "dirName": "music-box",
                "volume": [[60, 0.52], [72, 0.48]],
                "releasePatch": 60.75,
                "releaseTime": 0.5
            },
            "steel drum": {
                "title": "Friendship is Musical | Season 3",
                "source": "https://youtu.be/7WFZEuvZG0s?t=5",
                "dirName": "steel-drum",
                "volume": 0.55,
                "releasePatch": 57.5,
                "releaseTime": 0.2
            },
            "marimba": {
                "title": "Friendship is Musical | Season 1 Episode 17-18",
                "source": "https://youtu.be/_CZQ6tfivVs?t=30",
                "dirName": "marimba",
                "volume": [[60, 0.62], [72, 0.54]],
                "releasePatch": 49,
                "releaseTime": 0.12
            },
            "synth lead": {
                "title": "Friendship is Musical | Season 1 Episode 21-22",
                "source": "https://youtu.be/UZRoOAzI3wo?t=3",
                "dirName": "synth-lead",
                "volume": [[48, 0.5], [60, 0.45], [72, 0.4], [84, 0.3]],
                "loop": true,
                "releasePatch": 57,
                "releaseTime": 0.1
            },
            "synth pad": {
                "title": "Friendship is Musical | Season 1 Episode 13-14",
                "source": "https://youtu.be/QHOjFbbbrXQ?t=40",
                "dirName": "synth-pad",
                "volume": 0.6,
                "loop": true,
                "releaseTime": 0.1
            },
            "timpani": {
                "title": "Peppa Pig - Musical Instruments (full episode)",
                "source": "https://youtu.be/n4gsHAH_q6s?t=114",
                "dirName": "timpani",
                "volume": 0.8,
                "releaseTime": 0.1
            },
            "whistle": {
                "title": "Whistling Competition Between Peppa Pig and Suzy Sheep",
                "source": "https://youtu.be/9ptrXeS7CaE?t=4",
                "dirName": "whistle",
                "volume": 0.55,
                "loop": true
            },
            "orchestra hit": {
                "title": "Friendship is Musical | Season 1 Episode 5-6",
                "source": "https://youtu.be/EXrDap-pIdk?t=109",
                "dirName": "orchestra-hit",
                "volume": 0.8,
                "releasePatch": 63,
                "releaseTime": 0.25
            },
            "melodic tom": {
                "title": "My Little Pony Season 5 Episode 9",
                "source": "https://m.youtube.com/watch?v=lzpUO8-Xowk&t=471s",
                "dirName": "melodic-tom",
                "volume": 0.85,
                "releasePatch": 60,
                "releaseTime": 0.25
            },
            "synth drum": {
                "title": "My Little Pony Season 5 Episode 9",
                "source": "https://m.youtube.com/watch?v=lzpUO8-Xowk&t=471s",
                "dirName": "synth-drum",
                "volume": 0.6,
                "releasePatch": 60,
                "releaseTime": 0.25
            },
            "church organ": {
                "title": "My Little Pony: Friendship is Magic - Season 4 Episode 3",
                "source": "https://youtu.be/oqaH8rTKu8M?t=820",
                "dirName": "church-organ",
                "volume": [[36, 1], [48, 0.9], [60, 0.8]],
                "loop": true,
                "releasePatch": 51,
                "releaseTime": 0.1
            },
            "trumpet": {
                "title": "[1080p] My little Pony Friendship is Magic Season 6 Episode 14 The Cart Before the Ponies",
                "source": "https://youtu.be/8pKhEvZRW34?t=915",
                "dirName": "trumpet",
                "volume": [[48, 0.75], [60, 0.63], [72, 0.56]],
                "loop": true,
                "releasePatch": 55
            },
            "trumbone": {
                "title": "My Little Pony: friendship is magic | Swarm of the Century | FULL EPISODE | MLP",
                "source": "https://youtu.be/ZEzgWjBMfzM?t=1290",
                "dirName": "trumbone",
                "volume": [[48, 0.8], [60, 0.62], [72, 0.52]],
                "loop": true,
                "releasePatch": 61
            },
            "taiko drum": {
                "title": "Daddy Pig Plays The Drums!  | @Peppa Pig - Official Channel",
                "source": "https://youtu.be/aHEhixFSt-0?t=53",
                "dirName": "taiko-drum",
                "volume": 0.8,
                "releasePatch": 62,
                "releaseTime": 0.25
            },
            "reverse cymbal": {
                "title": "MLP FIM: Season 8 Episode 26",
                "source": "https://youtu.be/u5Cbd92uQ80?t=850",
                "dirName": "reverse-cymbal",
                "volume": 0.6
            },
            "accordion": {
                "title": "Peppa Pig - Musical Instruments (full episode)",
                "source": "https://youtu.be/n4gsHAH_q6s?t=131",
                "dirName": "accordion",
                "volume": [[48, 0.42], [60, 0.32], [72, 0.25]],
                "loop": true,
                "releasePatch": 59
            },
            "gumshot": {
                "title": "[Midi Player Gumshot]",
                "source": null,
                "dirName": "gumshot",
                "releaseTime": 1
            },
            "agogo": {
                "title": "My Little Pony: FIM Season 9 Episode 15 (2,4,6 Greaaat)",
                "source": "https://youtu.be/MluslXu-Pnk?t=937",
                "dirName": "agogo",
                "releaseTime": 0.25
            },
            "warm": {
                "title": "My Little Pony Season 5 Episode 9",
                "source": "https://youtu.be/lzpUO8-Xowk?t=750",
                "dirName": "warm",
                "volume": [[60, 0.64], [72, 0.5]],
                "loop": true,
                "releaseTime": 0.25
            }
        }
          , df = ["piano", "piano", "piano", "piano", "electric piano", "electric piano", "piano", "piano", "marimba", "vibraphone", "music box", "vibraphone", "marimba", "marimba", "vibraphone", "guitar", "organ", "organ", "organ", "church organ", "violin", "accordion", "harmonica", "accordion", "guitar", "guitar", "electric guitar", "electric guitar", "electric guitar", "overdriven guitar", "overdriven guitar", "overdriven guitar", "bass", "bass", "bass", "bass", "bass", "bass", "bass", "bass", "violin", "violin", "violin", "violin", "violin", "pizzicato", "bass", "timpani", "violin", "violin_2", "violin", "violin", "choir", "choir", "choir", "orchestra hit", "trumbone", "trumbone", "trumbone", "trumbone", "trumpet", "trumbone", "trumbone", "trumbone", "saxophone", "saxophone", "saxophone", "saxophone", "bassoon", "clarinet", "bassoon", "clarinet", "flute", "flute", "wooden flute", "wooden flute", "wooden flute", "wooden flute", "whistle", "wooden flute", "synth lead", "synth lead", "wooden flute", "synth lead", "synth lead", "choir", "synth lead", "synth lead", "synth pad", "warm", "synth pad", "choir", "violin", "violin", "choir", "violin", "synth pad", "violin", "wooden flute", "choir", "vibraphone", "warm", "choir", "harmonica", "overdriven guitar", "pizzicato", "bass", "bass", "marimba", "bassoon", "violin", "bassoon", "vibraphone", "agogo", "steel drum", "marimba", "taiko drum", "melodic tom", "synth drum", "reverse cymbal", "electric guitar", "wooden flute", "steel drum", "wooden flute", "vibraphone", "steel drum", "choir", "gumshot"]
          , dg = ["acoustic bass drum", "open hi hat", "null", "null", "null", "null", "null", "null", "acoustic bass drum", "acoustic bass drum", "side stick", "snare drum", "hand", "snare drum", "low floor tom", "closed hi hat", "high floor tom", "closed hi hat", "low tom", "open hi hat", "low mid tom", "hi mid tom", "crash cymbal", "high tom", "open hi hat", "crash cymbal", "tambourine", "tambourine", "crash cymbal", "cowbell", "crash cymbal", "vibraslap", "open hi hat", "hi bongo", "bongo", "mute conga", "open conga", "conga", "bongo", "conga", "high agogo", "low agogo", "cabasa", "cabasa", "short whistle", "long whistle", "short guiro", "long guiro", "claves", "wood", "low wood", "cuica", "low cuica", "mute triangle", "triangle", "cabasa", "cabasa", "null", "claves", "null", "null"];
        x.DRUM_INFO = gh,
        x.INSTRUMENT_INFO = gj,
        x.MIDI_INSTRUMENT = df,
        x.DRUMS_MIDI = dg
    },
    './src/manifest.js': function(z, x, c) {
        z.exports = {
            'drums/snare-drum.wav': c('./src/assets/drums/snare-drum.wav'),
            'drums/side-stick.wav': c('./src/assets/drums/side-stick.wav'),
            'drums/crash-cymbal.wav': c('./src/assets/drums/crash-cymbal.wav'),
            'drums/open-hi-hat.wav': c('./src/assets/drums/open-hi-hat.wav'),
            'drums/close-dhi-hat.wav': c('./src/assets/drums/close-dhi-hat.wav'),
            'drums/low-floor-tom.wav': c('./src/assets/drums/low-floor-tom.wav'),
            'drums/high-floor-tom.wav': c('./src/assets/drums/high-floor-tom.wav'),
            'drums/low-tom.wav': c('./src/assets/drums/low-tom.wav'),
            'drums/low-mid-tom.wav': c('./src/assets/drums/low-mid-tom.wav'),
            'drums/hi mid tom.wav': c('./src/assets/drums/hi mid tom.wav'),
            'drums/high-tom.wav': c('./src/assets/drums/high-tom.wav'),
            'drums/tambourine.wav': c('./src/assets/drums/tambourine.wav'),
            'drums/hand.wav': c('./src/assets/drums/hand.wav'),
            'drums/claves.wav': c('./src/assets/drums/claves.wav'),
            'drums/wood.wav': c('./src/assets/drums/wood.wav'),
            'drums/cowbell.wav': c('./src/assets/drums/cowbell.wav'),
            'drums/triangle.wav': c('./src/assets/drums/triangle.wav'),
            'drums/bongo.wav': c('./src/assets/drums/bongo.wav'),
            'drums/conga.wav': c('./src/assets/drums/conga.wav'),
            'drums/cabasa.wav': c('./src/assets/drums/cabasa.wav'),
            'drums/long-guiro.wav': c('./src/assets/drums/long-guiro.wav'),
            'drums/vibraslap.wav': c('./src/assets/drums/vibraslap.wav'),
            'drums/cuica.wav': c('./src/assets/drums/cuica.wav'),
            'drums/short-whistle.wav': c('./src/assets/drums/short-whistle.wav'),
            'drums/long-whistle.wav': c('./src/assets/drums/long-whistle.wav'),
            'drums/short-guiro.wav': c('./src/assets/drums/short-guiro.wav'),
            'drums/low-wood.wav': c('./src/assets/drums/low-wood.wav'),
            'drums/hi-bongo.wav': c('./src/assets/drums/hi-bongo.wav'),
            'drums/low-cuica.wav': c('./src/assets/drums/low-cuica.wav'),
            'drums/mute-triangle.wav': c('./src/assets/drums/mute-triangle.wav'),
            'drums/high-agogo.wav': c('./src/assets/drums/high-agogo.wav'),
            'drums/low-agogo.wav': c('./src/assets/drums/low-agogo.wav'),
            'drums/open-conga.wav': c('./src/assets/drums/open-conga.wav'),
            'drums/mute-conga.wav': c('./src/assets/drums/mute-conga.wav'),
            'drums/acoustic-bass-drum.wav': c('./src/assets/drums/acoustic-bass-drum.wav'),
            'instruments/piano.wav': c('./src/assets/instruments/piano.wav'),
            'instruments/electric-piano.wav': c('./src/assets/instruments/electric-piano.wav'),
            'instruments/organ.wav': c('./src/assets/instruments/organ.wav'),
            'instruments/guitar.wav': c('./src/assets/instruments/guitar.wav'),
            'instruments/electric-guitar.wav': c('./src/assets/instruments/electric-guitar.wav'),
            'instruments/bass.wav': c('./src/assets/instruments/bass.wav'),
            'instruments/pizzicato.wav': c('./src/assets/instruments/pizzicato.wav'),
            'instruments/harmonica.wav': c('./src/assets/instruments/harmonica.wav'),
            'instruments/clarinet.wav': c('./src/assets/instruments/clarinet.wav'),
            'instruments/saxophone.wav': c('./src/assets/instruments/saxophone.wav'),
            'instruments/violin.wav': c('./src/assets/instruments/violin.wav'),
            'instruments/violin_2.wav': c('./src/assets/instruments/violin_2.wav'),
            'instruments/overdriven-guitar.wav': c('./src/assets/instruments/overdriven-guitar.wav'),
            'instruments/flute.wav': c('./src/assets/instruments/flute.wav'),
            'instruments/wooden-flute.wav': c('./src/assets/instruments/wooden-flute.wav'),
            'instruments/bassoon.wav': c('./src/assets/instruments/bassoon.wav'),
            'instruments/choir.wav': c('./src/assets/instruments/choir.wav'),
            'instruments/vibraphone.wav': c('./src/assets/instruments/vibraphone.wav'),
            'instruments/music-box.wav': c('./src/assets/instruments/music-box.wav'),
            'instruments/steel-drum.wav': c('./src/assets/instruments/steel-drum.wav'),
            'instruments/marimba.wav': c('./src/assets/instruments/marimba.wav'),
            'instruments/synth-lead.wav': c('./src/assets/instruments/synth-lead.wav'),
            'instruments/synth-pad.wav': c('./src/assets/instruments/synth-pad.wav'),
            'instruments/timpani.wav': c('./src/assets/instruments/timpani.wav'),
            'instruments/whistle.wav': c('./src/assets/instruments/whistle.wav'),
            'instruments/orchestra-hit.wav': c('./src/assets/instruments/orchestra-hit.wav'),
            'instruments/melodic-tom.wav': c('./src/assets/instruments/melodic-tom.wav'),
            'instruments/synth-drum.wav': c('./src/assets/instruments/synth-drum.wav'),
            'instruments/church-organ.wav': c('./src/assets/instruments/church-organ.wav'),
            'instruments/trumpet.wav': c('./src/assets/instruments/trumpet.wav'),
            'instruments/trumbone.wav': c('./src/assets/instruments/trumbone.wav'),
            'instruments/taiko-drum.wav': c('./src/assets/instruments/taiko-drum.wav'),
            'instruments/reverse-cymbal.wav': c('./src/assets/instruments/reverse-cymbal.wav'),
            'instruments/accordion.wav': c('./src/assets/instruments/accordion.wav'),
            'instruments/gumshot.wav': c('./src/assets/instruments/gumshot.wav'),
            'instruments/agogo.wav': c('./src/assets/instruments/agogo.wav'),
            'instruments/warm.wav': c('./src/assets/instruments/warm.wav')
        }
    },
    './src/assets/drums/snare-drum.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/f8e9a4862f16d6e0bb58e8595cd5a4ad.wav/get/'
    },
    './src/assets/drums/side-stick.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/06f1484566bb6149673c05ee9c14f5f6.wav/get/'
    },
    './src/assets/drums/crash-cymbal.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/d2047cb8e805c3d127c469de2fc1d329.wav/get/'
    },
    './src/assets/drums/open-hi-hat.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/46cbebfbac0b11dc76c2e738b78120e4.wav/get/'
    },
    './src/assets/drums/close-dhi-hat.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/d7ada32c710b0a883266f4b94b1db43c.wav/get/'
    },
    './src/assets/drums/low-floor-tom.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/4c76166ce0d9b4853e0715f107b01c28.wav/get/'
    },
    './src/assets/drums/high-floor-tom.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/5266b9988ee896bc2bab9cd496c42a98.wav/get/'
    },
    './src/assets/drums/low-tom.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/8555d813e84048f781c4ff44c6430739.wav/get/'
    },
    './src/assets/drums/low-mid-tom.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/3b3fced980db142e737e15321a7eb7ef.wav/get/'
    },
    './src/assets/drums/hi mid tom.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/3e3c032e6bc334b7294310585f79662b.wav/get/'
    },
    './src/assets/drums/high-tom.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/f57d7b55ae028fb6691530bb3c54bdb2.wav/get/'
    },
    './src/assets/drums/tambourine.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/4fbbc63e66e4fd7b8611c11343f91fd2.wav/get/'
    },
    './src/assets/drums/hand.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/8158cc2e2219fb6f7cbfdfd051a3ed72.wav/get/'
    },
    './src/assets/drums/claves.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/ef64be4f8da4730868cc931f3a15656f.wav/get/'
    },
    './src/assets/drums/wood.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/94bf611190e55266b6250b8bbc17ed24.wav/get/'
    },
    './src/assets/drums/cowbell.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/1760020eb37fe3709c40f60d2a8ef544.wav/get/'
    },
    './src/assets/drums/triangle.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/0136ce7fbd955f39bb46de40e12be0bc.wav/get/'
    },
    './src/assets/drums/bongo.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/336220063f686b0f245430f76cbceb4d.wav/get/'
    },
    './src/assets/drums/conga.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/fd5036ce507cd959596e9770efe62415.wav/get/'
    },
    './src/assets/drums/cabasa.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/8b5d05fd13d7e56d91a92690a45d03a2.wav/get/'
    },
    './src/assets/drums/long-guiro.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/601103abf81fc9385f36dd9b47c703ee.wav/get/'
    },
    './src/assets/drums/vibraslap.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/3934ec317365ad390c5c87c633b189b0.wav/get/'
    },
    './src/assets/drums/cuica.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/b1ebe9cbd60498d3c28ff97ffd26bcdb.wav/get/'
    },
    './src/assets/drums/short-whistle.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/66eeb991358947dc9354c4fe75254dca.wav/get/'
    },
    './src/assets/drums/long-whistle.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/545ba524892f481b16633483a19ca963.wav/get/'
    },
    './src/assets/drums/short-guiro.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/f7b53554ebdd758c615cdc574bad7ea5.wav/get/'
    },
    './src/assets/drums/low-wood.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/28050489c468fd887d1b45812d183bd3.wav/get/'
    },
    './src/assets/drums/hi-bongo.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/8bb317a1069d04e13c23af27f2fdb76c.wav/get/'
    },
    './src/assets/drums/low-cuica.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/2373fc1cf3ff5352b7ece3603999927a.wav/get/'
    },
    './src/assets/drums/mute-triangle.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/af2148dba23faab1dec7cdd31663e292.wav/get/'
    },
    './src/assets/drums/high-agogo.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/14a03edc9dcaa6099e8def15bc187e10.wav/get/'
    },
    './src/assets/drums/low-agogo.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/f0379c9ab60a09f8f7cccb1cc32ac378.wav/get/'
    },
    './src/assets/drums/open-conga.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/41ff2db5a55a45496d63fb0dbdbedd7c.wav/get/'
    },
    './src/assets/drums/mute-conga.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/66c02912796e3b9f56a6d60081b96931.wav/get/'
    },
    './src/assets/drums/acoustic-bass-drum.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/a639a88d1c502adf8a3fd9889ee9ae77.wav/get/'
    },
    './src/assets/instruments/piano.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/39237faddf2e6c7d3d8f6d39ae30d8e6.wav/get/'
    },
    './src/assets/instruments/electric-piano.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/d07006b09cfbac92e3c5bef85ccd3d36.wav/get/'
    },
    './src/assets/instruments/organ.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/dc54c4335b9b365320ce2f0b5a3096ff.wav/get/'
    },
    './src/assets/instruments/guitar.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/0328765961864d1ff2bc8aa2003489b0.wav/get/'
    },
    './src/assets/instruments/electric-guitar.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/ace30ecd40b0ee7e7d77361e53e1f607.wav/get/'
    },
    './src/assets/instruments/bass.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/c87bdd77085d5ef9688a4c88b5317947.wav/get/'
    },
    './src/assets/instruments/pizzicato.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/f527e3719ee8b7b64062e5f9a4b33169.wav/get/'
    },
    './src/assets/instruments/harmonica.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/c7b1809c6bb6b0cbf1928d796d1d5eea.wav/get/'
    },
    './src/assets/instruments/clarinet.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/086fb0c3d8dfab35aaba3c8e1dfb05af.wav/get/'
    },
    './src/assets/instruments/saxophone.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/aa878420c089b36eab7064b70ac27818.wav/get/'
    },
    './src/assets/instruments/violin.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/9f121cecc17a68610598587467cfc149.wav/get/'
    },
    './src/assets/instruments/violin_2.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/f20c97f5b8369555f1f78e6c2040a8d3.wav/get/'
    },
    './src/assets/instruments/overdriven-guitar.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/578d9cba77e8d6f578b31d5f4a31c151.wav/get/'
    },
    './src/assets/instruments/flute.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/10e4407f269919a8da1b686ec71d7953.wav/get/'
    },
    './src/assets/instruments/wooden-flute.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/49589ee679b86fb05a411ebc302d407d.wav/get/'
    },
    './src/assets/instruments/bassoon.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/925bc0db0ad640181cbbd961c326d1fd.wav/get/'
    },
    './src/assets/instruments/choir.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/43c9b3aafd224f62be45c990bef7896b.wav/get/'
    },
    './src/assets/instruments/vibraphone.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/354604052268eeeb24b5cb6c6df3ba44.wav/get/'
    },
    './src/assets/instruments/music-box.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/e66135be886992bd1be58f1c6eefb8e2.wav/get/'
    },
    './src/assets/instruments/steel-drum.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/98fa3eefd30afd2377db250f33dffe5d.wav/get/'
    },
    './src/assets/instruments/marimba.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/aa0531b278664dfdf9254f2f5676d0e4.wav/get/'
    },
    './src/assets/instruments/synth-lead.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/eef84ef4c9a76eb92218deee402a71aa.wav/get/'
    },
    './src/assets/instruments/synth-pad.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/6dd9834236dfc66bea70e387c1481941.wav/get/'
    },
    './src/assets/instruments/timpani.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/c4bad1057968e352c835bd5c805f911c.wav/get/'
    },
    './src/assets/instruments/whistle.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/1d83be8a2f77baae0f03277ea629ee93.wav/get/'
    },
    './src/assets/instruments/orchestra-hit.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/5fa7509939b2908b5eadd34d4965f2b6.wav/get/'
    },
    './src/assets/instruments/melodic-tom.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/baa611917d9f86ec22b1240a0df9e509.wav/get/'
    },
    './src/assets/instruments/synth-drum.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/3518b4b38e33fc590b0c6b149e913df4.wav/get/'
    },
    './src/assets/instruments/church-organ.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/da06d731163ed46fafa290346096528b.wav/get/'
    },
    './src/assets/instruments/trumpet.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/cdb4db94af354ae0f7d442c5b36f5b75.wav/get/'
    },
    './src/assets/instruments/trumbone.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/badad0a3c04c9c1cbe8bbc864edab749.wav/get/'
    },
    './src/assets/instruments/taiko-drum.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/52676535c7f309dbc4c771d733bbc0a4.wav/get/'
    },
    './src/assets/instruments/reverse-cymbal.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/551922398f65d32746585a34757a83bf.wav/get/'
    },
    './src/assets/instruments/accordion.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/f58883149c61023fb78e98e81aa5d023.wav/get/'
    },
    './src/assets/instruments/gumshot.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/997b210b9cd72734b14e71d28c666894.wav/get/'
    },
    './src/assets/instruments/agogo.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/196ddd23bcd309117e60626d3bcb17dd.wav/get/'
    },
    './src/assets/instruments/warm.wav': function(z, x, c) {
        z.exports = c.path + 'https://assets.scratch.mit.edu/internalapi/asset/15cdf2d6f901c0e27de298d845e4718d.wav/get/'
    },
    './src/midiparser.js': function(z, x, c) {
        var ki = function(data) {
            this.data = new Uint8Array(data),
            this.dataLength = this.data.length,
            this.index = 0
        };
        ki.prototype.parse = function() {
            var th = this.readUnsignedLong.bind(this)
              , tj = this.readVariableLength.bind(this)
              , tk = this.readBytes.bind(this)
              , midID = this.readUTFBytes(4);
            if (midID == "RIFF") {
                th();
                if (this.readUTFBytes(8) !== "RMIDdata")
                    throw new Error("Invalid MIDI file");
                th(),
                midID = this.readUTFBytes(4)
            }
            ;if (midID !== "MThd")
                throw new Error("Invalid MIDI file");
            if (th() !== 6)
                throw new Error("Invalid MIDI file");
            var w = this.readUnsignedShort()
              , e = this.readUnsignedShort()
              , r = this.readUnsignedShort()
              , hs = []
              , trackID = 0;
            while (trackID < e) {
                this.dataLength = this.data.length;
                var chuckId = this.readUTFBytes(4);
                if (!(chuckId == "MTrk"))
                    throw new Error("MTrk not found for track number " + (trackID + 1) + " - invalid MIDI file");
                var v = {}
                  , b = {}
                  , h = {}
                  , j = {}
                  , k = {}
                  , m = {}
                  , wz = {}
                  , re = {}
                  , rt = {}
                  , ty = {}
                  , ht = {}
                  , iy = []
                  , gh = th()
                  , ph = 0
                  , hd = 0
                  , jh = 0
                  , bh = 0
                  , jj = 0
                  , h1 = 0
                  , h2 = 0;
                v.channel = [],
                v.pitch = [],
                v.tickOff = [],
                v.tickOn = [],
                v.velocity = [],
                b.setting = [],
                b.tick = [],
                h.tick = [],
                h.type = [],
                h.text = [],
                j.tick = [],
                j.key = [],
                k.tick = [],
                k.channel = [],
                k.value = [],
                m.channel = [],
                m.tick = [],
                m.pitch = [],
                wz.channel = [],
                wz.tick = [],
                wz.control = [],
                wz.value = [],
                re.tick = [],
                re.channel = [],
                re.program = [],
                rt.tick = [],
                rt.numerator = [],
                rt.denominator = [],
                ty.tick = [],
                ty.type = [],
                ty.value = [],
                ht.tick = [],
                ht.data = [],
                ht.fx = [];
                this.dataLength = this.index + gh;
                while (this.index < this.dataLength) {
                    ph += tj();
                    jj = this.data[this.index++];
                    if (jj == 255) {
                        switch (this.data[this.index++]) {
                        case 47:
                            this.index = this.dataLength;
                            break;
                        case 81:
                            b.tick.push(ph),
                            b.setting.push(tk(tj()));
                            break;
                        case 1:
                        case 2:
                        case 3:
                        case 4:
                        case 5:
                        case 6:
                        case 7:
                            var sr = this.data[this.index - 1]
                              , l = tj()
                              , t = '';
                            for (let i = 0; i < l; i++)
                                t += String.fromCharCode(this.data[this.index++]);
                            h.tick.push(ph);
                            h.type.push(sr);
                            h.text.push(t);
                            break;
                        case 88:
                            rt.tick.push(ph);
                            rt.numerator.push(this.data[this.index++]);
                            rt.denominator.push(this.data[this.index++]);
                            this.index -= 2;
                            var ii = tj();
                            this.index += ii;
                            break;
                        case 89:
                            ty.tick.push(ph);
                            ty.value.push(this.data[this.index++]);
                            ty.type.push(this.data[this.index++]);
                            this.index -= 2;
                            var ii = tj();
                            this.index += ii;
                            break;
                        default:
                            var ii = tj();
                            this.index += ii;
                        }
                    } else {
                        if (jj > 239) {
                            var ii = tj();
                            ht.tick.push(ph);
                            var dat = [];
                            for (var i = 0; i < ii; i++) {
                                dat.push(this.data[this.index++]);
                            }
                            ht.data.push(dat);
                            ht.fx.push(jj - 240);
                        } else {
                            if (jj > 127) {
                                bh = jj % 16;
                                hd = ((jj - bh) / 16);
                            } else {
                                this.index -= 1;
                            }
                            h1 = this.data[this.index++];
                            if (!(hd == 12 || hd == 13)) {
                                h2 = this.data[this.index++];
                            }
                            switch (hd) {
                            case 8:
                                jh = iy.length - 1;
                                for (var i = jh; i !== -1; i--) {
                                    if (h1 == v.pitch[i] && bh == v.channel[i] && iy[i] == true) {
                                        v.tickOff[i] = ph,
                                        iy[i] = false;
                                        break
                                    }
                                }
                                ;break;
                            case 9:
                                if (h2 > 0) {
                                    v.tickOn.push(ph);
                                    v.tickOff.push(ph);
                                    v.channel.push(bh);
                                    v.pitch.push(h1);
                                    v.velocity.push(h2);
                                    iy.push(true);
                                } else {
                                    jh = iy.length - 1;
                                    for (var i = jh; i !== -1; i--) {
                                        if (h1 == v.pitch[i] && bh == v.channel[i] && iy[i] == true) {
                                            v.tickOff[i] = ph,
                                            iy[i] = false;
                                            break
                                        }
                                    }
                                }
                                ;break;
                            case 10:
                                j.tick.push(ph),
                                j.key.push(h1);
                                break;
                            case 11:
                                wz.tick.push(ph),
                                wz.channel.push(bh),
                                wz.control.push(h1),
                                wz.value.push(h2);
                                break;
                            case 12:
                                re.tick.push(ph),
                                re.channel.push(bh),
                                re.program.push(h1);
                                break;
                            case 13:
                                k.tick.push(ph),
                                k.channel.push(bh),
                                k.value.push(h1);
                                break;
                            case 14:
                                m.tick.push(ph),
                                m.channel.push(bh),
                                m.pitch.push(h2 * 128 + h1);
                                break;
                            }
                        }
                    }
                }
                if (this.index !== this.dataLength)
                    throw new Error("Track number " + (trackID + 1) + " has overrun - invalid MIDI file");
                var kk = {};
                kk.notes = v,
                kk.tempos = b,
                kk.pitchBends = m,
                kk.controllers = wz,
                kk.texts = h,
                kk.keyPressure = j,
                kk.channelPressure = k,
                kk.programChange = re,
                kk.timeSignature = rt,
                kk.keySignature = ty,
                kk.systemExclusive = ht,
                kk.pulseCounterLength = ph,
                hs.push(kk),
                trackID += 1;
            }
            ;return {
                "tracks": hs,
                "timeDivision": r,
                "formatType": w
            }
        }
        ,
        ki.prototype.readUnsignedLong = function() {
            return this.readBytes(4)
        }
        ,
        ki.prototype.readUnsignedShort = function() {
            return this.readBytes(2)
        }
        ,
        ki.prototype.readVariableLength = function() {
            var h = 0
              , j = 2;
            while (true) {
                var temp = this.data[this.index++];
                h = ((h * 128) + (temp % 128));
                if (temp < 128)
                    return h;
                j--;
                if (j == 0)
                    return (h * 128) + this.data[this.index++];
            }
        }
        ,
        ki.prototype.readUTFBytes = function(j) {
            var d = ""
              , h = j;
            while (h--)
                d += String.fromCharCode(this.data[this.index++]);
            return d;
        }
        ,
        ki.prototype.readBytes = function(j) {
            var d = 0
              , h = j;
            while (h--)
                d = ((d * 256) + this.data[this.index++]);
            return d;
        }
        ;
        z.exports = ki
    },
    './src/track.js': function(z, x, c) {
        var he = function(a, o, f) {
            this.mse = a,
            this.currentPulse = 0,
            this.trackNumber = o,
            this.decodeNoteQueue = f.notes,
            this.decodeTempoQueue = f.tempos,
            this.decodeTextsQueue = f.texts,
            this.decodeKeyPressureQueue = f.keyPressure,
            this.decodeChannelPressureQueue = f.channelPressure,
            this.decodeControllers = f.controllers,
            this.decodeTimeSignatureQueue = f.timeSignature,
            this.decodeKeySignatureQueue = f.keySignature,
            this.decodeSystemExclusiveQueue = f.systemExclusive,
            this.pulseCounterLength = f.pulseCounterLength;
            if (!("last"in this.decodeControllers)) {
                var controllersLast = new Array(128 * 16);
                for (let index = 0; index < (128 * 16); index++) {
                    controllersLast[index] = null;
                }
                this.decodeControllers.last = [];
                for (let index = 0; index < this.decodeControllers.tick.length; index++) {
                    const _g = this.decodeControllers.control[index] + (128 * this.decodeControllers.channel[index]);
                    this.decodeControllers.last.push(controllersLast[_g]);
                    controllersLast[_g] = index;
                }
            }
            this.decodePitchBends = f.pitchBends;
            if (!("last"in this.decodePitchBends)) {
                var pitchBendsLast = new Array(16);
                for (let index = 0; index < 16; index++) {
                    pitchBendsLast[index] = null;
                }
                this.decodePitchBends.last = [];
                for (let index = 0; index < this.decodePitchBends.tick.length; index++) {
                    const _g = this.decodePitchBends.channel[index];
                    this.decodePitchBends.last.push(pitchBendsLast[_g]);
                    pitchBendsLast[_g] = index;
                }
            }
            this.decodeProgramChanges = f.programChange;
            if (!("last"in this.decodeProgramChanges)) {
                var lasts = new Array(16);
                for (let index = 0; index < 16; index++) {
                    lasts[index] = null;
                }
                this.decodeProgramChanges.last = [];
                for (let index = 0; index < this.decodeProgramChanges.tick.length; index++) {
                    const _g = this.decodeProgramChanges.channel[index];
                    this.decodeProgramChanges.last.push(lasts[_g]);
                    lasts[_g] = index;
                }
            }
        };
        he.prototype.toJSON = function() {
            var t = {};
            return t.notes = this.decodeNoteQueue,
            t.tempos = this.decodeTempoQueue,
            t.texts = this.decodeTextsQueue,
            t.keyPressure = this.decodeKeyPressureQueue,
            t.channelPressure = this.decodeChannelPressureQueue,
            t.programChange = this.decodeProgramChanges,
            t.controllers = this.decodeControllers,
            t.pitchBends = this.decodePitchBends,
			t.timeSignature = this.decodeTimeSignatureQueue,
			t.keySignature = this.decodeKeySignatureQueue,
			t.systemExclusive = this.decodeSystemExclusiveQueue,
			t.pulseCounterLength = this.pulseCounterLength,
            t
        }
        ,
        he.prototype.reset = function() {
            this.tempo = 500000 / this.mse.timeDivision,
            this.noteTracker = 0,
            this.controllerIndex = 0,
            this.pitchBendIndex = 0,
            this.tempoTick = 0,
            this.tempoTracker = 0,
            this.tempoTime = 0,
            this.instrumentChannelIndex = 0
        }
        ,
        he.prototype.getTempo = function() {
            return this.decodeTempoQueue
        }
        ,
        he.prototype.update = function() {
            var _t = this.currentPulse;
            if (this.decodePitchBends.tick.length > 0) {
                while (this.pitchBendIndex < this.decodePitchBends.tick.length && _t >= this.decodePitchBends.tick[this.pitchBendIndex]) {
                    this.mse.pitchBendChannel[this.decodePitchBends.channel[this.pitchBendIndex]] = this.decodePitchBends.pitch[this.pitchBendIndex];
                    this.pitchBendIndex += 1;
                }
                this.pitchBendIndex -= 1;
                while (this.pitchBendIndex >= 0 && _t < this.decodePitchBends.tick[this.pitchBendIndex]) {
                    var k = this.decodePitchBends.last[this.pitchBendIndex];
                    if (k == null) {
                        this.mse.pitchBendChannel[this.decodePitchBends.channel[this.pitchBendIndex]] = 8192;
                    } else {
                        this.mse.pitchBendChannel[this.decodePitchBends.channel[k]] = this.decodePitchBends.pitch[k];
                    }
                    this.pitchBendIndex -= 1;
                }
                this.pitchBendIndex += 1;
            }
            if (this.decodeProgramChanges.tick.length > 0) {
                while (this.instrumentChannelIndex < this.decodeProgramChanges.tick.length && _t >= this.decodeProgramChanges.tick[this.instrumentChannelIndex]) {
                    this.mse.programChannel[this.decodeProgramChanges.channel[this.instrumentChannelIndex]] = this.decodeProgramChanges.program[this.instrumentChannelIndex];
                    this.instrumentChannelIndex += 1;
                }
                this.instrumentChannelIndex -= 1;
                while (this.instrumentChannelIndex >= 0 && _t < this.decodeProgramChanges.tick[this.instrumentChannelIndex]) {
                    var k = this.decodeProgramChanges.last[this.instrumentChannelIndex];
                    if (k == null) {
                        this.mse.programChannel[this.decodeProgramChanges.channel[this.instrumentChannelIndex]] = 0;
                    } else {
                        this.mse.programChannel[this.decodeProgramChanges.channel[k]] = this.decodeProgramChanges.program[k];
                    }
                    this.instrumentChannelIndex -= 1;
                }
                this.instrumentChannelIndex += 1;
            }
            if (this.decodeControllers.tick.length > 0) {
                while ((this.controllerIndex < this.decodeControllers.tick.length) && (_t >= this.decodeControllers.tick[this.controllerIndex])) {
                    var e = this.decodeControllers.channel[this.controllerIndex]
                      , r = this.decodeControllers.control[this.controllerIndex]
                      , t = this.decodeControllers.value[this.controllerIndex];
                    this.setController(e, r, t, false),
                    this.controllerIndex += 1
                }
                this.controllerIndex -= 1;
                while ((this.controllerIndex >= 0) && (_t < this.decodeControllers.tick[this.controllerIndex])) {
                    var k = this.decodeControllers.last[this.controllerIndex];
                    if (k == null) {
	                    var e = this.decodeControllers.channel[this.controllerIndex]
	                      , r = this.decodeControllers.control[this.controllerIndex]
	                      , t = this.decodeControllers.value[this.controllerIndex];
	                    this.setController(e, r, t, true)
                    } else {
	                    var e = this.decodeControllers.channel[k]
	                      , r = this.decodeControllers.control[k]
	                      , t = this.decodeControllers.value[k];
                  		this.setController(e, r, t, false)
                    }
                    this.controllerIndex -= 1;
                }
                this.controllerIndex += 1;
            }
        }
        ,
        he.prototype.setController = function(g, h, j, k) {
            switch (h) {
            case 6:
                this.mse.dataEntryMSB[g] = j;
                break;
            case 7:
                this.mse.volumeChannel[g] = j;
                if (k) {
                    this.mse.volumeChannel[g] = 100;
                }
                break;
            case 10:
                this.mse.panChannel[g] = j;
                if (k) {
                    this.mse.panChannel[g] = 63;
                }
                break;
            case 11:
                this.mse.expressionChannel[g] = j;
                if (k) {
                    this.mse.expressionChannel[g] = 127;
                }
                break;
            case 38:
                this.mse.dataEntryLSB[g] = j;
                break;
            case 64:
                this.mse.sustainPedalChannel[g] = j;
                if (k) {
                    this.mse.sustainPedalChannel[g] = 0;
                }
                if (this.mse.isEffect) {
                    for (let i = 0; i < this.mse.notesPlaying.length; i++) {
                        const c = this.mse.notesPlaying[i];
                        if (!c) {
                            continue;
                        }
                        if (g == c.channel) {
                            if (this.mse.sustainPedalChannel[g] > 0) {
                                c.setDurationInf = true;
                            } else {
                                c.setDurationInf = false;
                                if (c.release && !c.release.ended && this.currentPulse >= c.nodeOff) {
                                    c.release.ended = true;
                                }
                            }
                        }
                    }
                }
                break;
            case 100:
                this.mse.registeredParameterLSBchannel[g] = j;
                break;
            case 101:
                this.mse.registeredParameterMSBchannel[g] = j;
                break;
            case 120:
            case 123:
            case 126:
            case 127:
                if (this.mse.isEffect) {
                    for (let i = 0; i < this.mse.notesPlaying.length; i++) {
                        const c = this.mse.notesPlaying[i];
                        if (!c)
                            continue;
                        if (g == c.channel)
                            c.ended = true;
                    }
                }
                break;
            case 0:
            case 1:
            case 2:
            case 4:
            case 5:
            case 8:
            case 12:
            case 13:
            case 16:
            case 17:
            case 18:
            case 19:
            case 32:
            case 33:
            case 34:
            case 36:
            case 37:
            case 39:
            case 40:
            case 42:
            case 43:
            case 44:
            case 45:
            case 48:
            case 49:
            case 50:
            case 51:
            case 65:
            case 66:
            case 67:
            case 68:
            case 69:
            case 70:
            case 71:
            case 72:
            case 73:
            case 74:
            case 75:
            case 76:
            case 77:
            case 78:
            case 79:
            case 80:
            case 81:
            case 82:
            case 83:
            case 84:
            case 91:
            case 92:
            case 93:
            case 94:
            case 95:
            case 96:
            case 97:
            case 98:
            case 99:
            case 121:
            case 122:
            case 124:
            case 125:
                break;
            }
        }
        ,
        he.prototype.getNote = function(k) {
            var h = [];
            if (this.decodeNoteQueue.tickOn.length > 0) {
                while (this.noteTracker < this.decodeNoteQueue.tickOn.length && this.currentPulse > this.decodeNoteQueue.tickOn[this.noteTracker]) {
                    if (!k)
                        h.push(this.noteTracker);
                    this.noteTracker += 1
                }
                this.noteTracker -= 1;
                while (this.noteTracker >= 0 && this.currentPulse < this.decodeNoteQueue.tickOn[this.noteTracker])
                    this.noteTracker -= 1;
                this.noteTracker += 1
            }
            return h
        }
        ;
        z.exports = he
    },
    './src/player.js': function(z, x, c) {
        var yu = c("./src/midiparser.js")
          , df = c("./src/soundbank.js")
          , hj = c("./src/track.js")
          , jd = c("./src/manifest.js")
          , kh = df.MIDI_INSTRUMENT
          , kg = df.DRUMS_MIDI
          , ng = df.DRUM_INFO
          , nh = df.INSTRUMENT_INFO;
        var ke = function() {
            this.audioContext = new AudioContext(),
            this.node = this.audioContext.createGain(),
            this.node.gain.value = 1,
            this.node.connect(this.audioContext.destination),
            this.startTime = 0,
            this.duration = 0,
            this.muteMusicr = false,
            this.DateTime = 0,
            this.frameStart = 0,
            this.onplaynote = null,
            this.onended = null,
            this.onprogress = null,
            this.speed = 1,
            this.isEffect = true,
            this.isPaused = true,
            this.currentTime = 0,
            this._currentTimeLast = 0,
            this.notesPlaying = new Array(100);
            for (var i = 0; i < this.notesPlaying.length; i++)
                this.notesPlaying[i] = null;
            this.trackQueue = [],
            this.formatType = 0,
            this.isTempoTrack = null,
            this._tempo = 0,
            this._tempoTracker = 0,
            this._tempoTime = 0,
            this._currentPulse = 0,
            this._soundbankLoaded = 0,
            this._soundbank = {},
            this.frameStart = Date.now(),
            this._interval = setInterval(this._step.bind(this), 1000 / 60),
            this.resetEffect()
        };
        ke.prototype.resetEffect = function() {
            this.pitchBendChannel = [8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192, 8192],
            this.volumeChannel = [100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100],
            this.programChannel = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
            this.expressionChannel = [127, 127, 127, 127, 127, 127, 127, 127, 127, 127, 127, 127, 127, 127, 127, 127],
            this.panChannel = [63, 63, 63, 63, 63, 63, 63, 63, 63, 63, 63, 63, 63, 63, 63, 63],
            this.dataEntryMSB = [2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2],
            this.dataEntryLSB = [2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2],
            this.registeredParameterMSBchannel = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
            this.registeredParameterLSBchannel = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
            this.sustainPedalChannel = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
        }
        ,
        ke.prototype.cleanup = function() {
            this.stop(),
            this.resetEffect(),
            this.duration = 0,
            this.trackQueue = [],
            this._tempo = 0,
            this._tempoTracker = 0,
            this._tempoTime = 0,
            this._currentPulse = 0,
            this.isTempoTrack = null,
            this.currentTime = 0,
            this._currentTimeLast = 0;
            if (this.oncleanup)
                this.oncleanup()
        }
        ,
        ke.prototype.resetTrack = function() {
            this._tempo = 500000 / this.timeDivision,
            this._tempoTracker = 0,
            this._tempoTime = 0,
            this._currentPulse = 0;
            for (var i = 0; i < this.trackQueue.length; i++)
                this.trackQueue[i].reset()
        }
        ,
        ke.prototype.setCurrentTime = function(s) {
            this.muteMusicr = true,
            this.stopAllPlaying();
            if (this.currentTime == s)
                return;
            var h = Math.max(0, Math.min(this.duration, s));
            if (h <= 0) {
                this.currentTime = 0,
                this.resetTrack(),
                this.setStartTime(0)
            } else {
                this.currentTime = h,
                this.setStartTime(this.currentTime)
            }
            this.stepUpdateTrack()
        }
        ,
        ke.prototype.setStartTime = function(s) {
            this.startTime = (Date.now() - ((s / this.speed) * 1000))
        }
        ,
        ke.prototype.setSpeed = function(s) {
            this.speed = s,
            this.setStartTime(this.currentTime)
        }
        ,
        ke.prototype.decodeAudio = function(k) {
            var h = this;
            return new Promise(function(t, j) {
                h.audioContext.decodeAudioData(k, function(buffer) {
                    t(buffer)
                }, function(err2) {
                    j("Could not decode audio: " + err2)
                })
            }
            );
        }
        ,
        ke.prototype._loadSoundbankBuffer = function(s, f) {
            var h = this;
            return fetch(f).then(function(r) {
                return r.arrayBuffer()
            }).then(function(buffer) {
                var d = new DataView(buffer)
                  , k = [];
                for (var i5 = 0; i5 < buffer.byteLength; i5++) {
                    k.push(d.getUint8(i5, true))
                }
                ;return h.decodeAudio(buffer).then(function(o) {
                    return new Promise(function(resolve, reject) {
                        resolve({
                            data: new Uint8Array(k),
                            buffer: o
                        })
                    }
                    )
                })
            }).then(function(sound) {
                h._soundbank[s] = sound
            })
        }
        ,
        ke.prototype.loadSoundbank = function() {
            return this.loadSoundbankAll()
        }
        ,
        ke.prototype.loadSoundbankAll = function() {
            var h = this;
            const j = [];
            this._soundbankLoaded = 0;
            for (const k in ng) {
                var filePath = "drums/" + ng[k].fileName + ".wav";
                if (!this._soundbank[k]) {
                    this._soundbankLoaded += 1;
                    const l = this._loadSoundbankBuffer(k, jd[filePath]);
                    j.push(l.then(function() {
                        h.onprogress && h.onprogress("loaded instruments " + h._soundbankLoaded);
                        h._soundbankLoaded -= 1;
                    }))
                }
            }
            ;for (const k in nh) {
                var filePath = "instruments/" + nh[k].dirName + ".wav";
                if (!this._soundbank[k]) {
                    this._soundbankLoaded += 1;
                    const l = this._loadSoundbankBuffer(k, jd[filePath]);
                    j.push(l.then(function() {
                        h.onprogress && h.onprogress("loaded instruments " + h._soundbankLoaded);
                        h._soundbankLoaded -= 1
                    }));
                }
            }
            ;h.onprogress && h.onprogress("loaded instruments " + h._soundbankLoaded);
            return Promise.all(j).then(function() {
                h.onprogress && h.onprogress("")
            });
        }
        ,
        ke.prototype.setVolume = function(v) {
            this.node.gain.value = v
        }
        ,
        ke.prototype.play = function() {
            if (this.currentTime <= 0)
                this.resetTrack();
            this.isPaused = false,
            this.setStartTime(this.currentTime);
            if (this.currentTime >= this.duration) {
                this.currentTime = 0,
                this.setStartTime(0),
                this.resetTrack()
            }
        }
        ,
        ke.prototype.stopAllPlaying = function() {
            for (var i = 0; i < this.notesPlaying.length; i++) {
                if (this.notesPlaying[i])
                    this.notesPlaying[i].ended = true;
            }
        }
        ,
        ke.prototype.stop = function() {
            this.isPaused = true,
            this.currentTime = 0,
            this.setStartTime(0),
            this.resetTrack(),
            this.stopAllPlaying();
        }
        ,
        ke.prototype.pause = function() {
            this.isPaused = true,
            this.setStartTime(this.currentTime),
            this.stopAllPlaying();
        }
        ,
        ke.prototype.getNoteLength = function() {
            var t = 0;
            for (var i = 0; i < this.trackQueue.length; i++)
                t += this.trackQueue[i].decodeNoteQueue.tickOn.length;
            return t
        }
        ,
        ke.prototype.getNoteTracker = function() {
            var t = 0;
            for (var i = 0; i < this.trackQueue.length; i++)
                t += this.trackQueue[i].noteTracker;
            return t
        }
        ,
        ke.prototype.getTempoLength = function() {
            var t = 0;
            for (var i = 0; i < this.trackQueue.length; i++)
                t += this.trackQueue[i].decodeTempoQueue.tick.length;
            return t
        }
        ,
        ke.prototype.getTempoTracker = function() {
            var t = 0;
            for (var i = 0; i < this.trackQueue.length; i++)
                t += this.trackQueue[i].tempoTracker;
            return t
        }
        ,
        ke.prototype.getSoundBankSize = function() {
            var t = 0;
            for (var name in this._soundbank)
                t += this._soundbank[name].data.length;
            return t
        }
        ,
        ke.prototype.vidAudio = function(j, n) {
            if (Array.isArray(j)) {
                for (var i = j.length - 1; i >= 0; i--) {
                    if (n >= j[i][0]) {
                        return j[i][1]
                    }
                }
                ;return j[0][1]
            }
            ;return j || 1;
        }
        ,
        ke.prototype.playNote = function(n) {
            if (n.type == 1) {
                var i = kh[n.instrument - 1];
                if (!i)
                    return;
                var e = nh[i];
                if (!e)
                    return;
                const k = this._soundbank[i];
                if (!k)
                    return;
                const u = this.audioContext.createBufferSource();
                const v = this.audioContext.createGain();
                u.buffer = k.buffer;
                if (u.loop = e.loop) {
                    u.loopStart = 2,
                    u.loopEnd = 5
                }
                u.connect(v);
                var o = (e.releasePatch ? (n.pitch + (e.releasePatch - 60)) : n.pitch);
                u.playbackRate.value = Math.pow(2, ((o - 60) / 12));
                const w = v.gain;
                var f = n.volume * this.vidAudio(e.volume, n.pitch);
                w.value = f;
                const j = this.audioContext.createGain();
                var y = e.releaseTime;
                if (typeof y === 'undefined') {
                    y = 0.01
                }
                const g = this.audioContext.currentTime + n.duration;
                const h = g + y;
                j.gain.setValueAtTime(1, g),
                j.gain.linearRampToValueAtTime(0.0001, h),
                v.connect(j),
                j.connect(this.node),
                u.start(),
                u.stop(h)
            } else if (n.type == 0) {
                var r = kg[n.drum - 27];
                if (!r)
                    return;
                var e = ng[r];
                if (!e)
                    return;
                const k = this._soundbank[r];
                if (!k)
                    return;
                const u = this.audioContext.createBufferSource();
                const v = this.audioContext.createGain();
                u.buffer = k.buffer;
                u.connect(v);
                v.connect(this.node);
                const gain = v.gain;
                var volume = (n.volume * (e.volume || 1)) * 0.8;
                gain.value = volume;
                u.start()
            }
        }
        ,
        ke.prototype._playNotes = function(n, i) {
            var a = i;
            if (a < 0) {
                a = this.notesPlaying.indexOf(null);
                if (a == -1)
                    return
            }
            if (n.volume == 0)
                return;
            if (n.type == 1) {
                var j = kh[n.instrument - 1];
                if (!j)
                    return;
                var span = nh[j];
                if (!span)
                    return;
                const buffer = this._soundbank[j];
                if (!buffer)
                    return;
                const v = this.audioContext.createBufferSource();
                const b = this.audioContext.createGain();
                v.buffer = buffer.buffer;
                if (v.loop = span.loop)
                    v.loopStart = 2,
                    v.loopEnd = 5;
                v.connect(b);
                var m = (span.releasePatch ? (n.pitch + (span.releasePatch - 60)) : n.pitch);
                v.playbackRate.value = Math.pow(2, ((m - 60) / 12));
                const fs = b.gain;
                var volume = (n.volume / 99) * this.vidAudio(span.volume, n.pitch);
                const _o = (n.nodeOff - n.nodeOn);
                fs.value = 0;
                const ht = this.audioContext.createGain();
                ht.gain.value = 1;
                b.connect(ht);
                ht.connect(this.node);
                var y6 = span.releaseTime;
                if (typeof y6 === 'undefined' || _o <= 0) {
                    y6 = 0;
                }
                var te = {
                    _pitch: n.pitch,
                    _volume: n.volume,
                    _instrument: n.instrument,
                    ended: false,
                    source: v,
                    note: b,
                    setDurationInf: false,
                    nodeOff: n.nodeOff,
                    release: {
                        duration: y6 * 1000,
                        releaseGain: ht,
                        ended: false,
                    },
                    volume: volume,
                    pitch: m,
                    nodeOn: n.nodeOn,
                    track: n.track,
                    channel: n.channel
                };
                te.endedFunction = function() {
                    te.ended = true
                }
                ;
                v.addEventListener("ended", te.endedFunction),
                this._startNote(te),
                this._updateEffectNote(te),
                v.start(),
                this.notesPlaying[a] = te
            } else if (n.type == 0) {
                var j = kg[n.drum - 27];
                if (!j)
                    return;
                var span = ng[j];
                if (!span)
                    return;
                const buffer = this._soundbank[j];
                if (!buffer)
                    return;
                const v = this.audioContext.createBufferSource();
                const b = this.audioContext.createGain();
                v.buffer = buffer.buffer,
                v.connect(b),
                b.connect(this.node);
                const _o = (n.nodeOff - n.nodeOn);
                var volume = ((((_o > 0) ? n.volume : 0) / 99) * (span.volume || 1)) * 0.8;
                var te = {
                    _pitch: n.drum,
                    _volume: n.volume,
                    _instrument: 0,
                    ended: false,
                    note: b,
                    nodeOn: n.nodeOn,
                    volume: volume,
                    duration: _o,
                    pitch: 60,
                    source: v,
                    track: n.track,
                    channel: n.channel
                };
                te.endedFunction = function() {
                    te.ended = true
                }
                ;
                v.addEventListener("ended", te.endedFunction),
                this._startNote(te),
                this._updateEffectNote(te),
                v.start(),
                this.notesPlaying[a] = te
            }
        }
        ,
        ke.prototype.getSustainPedalChannel = function(channel) {
            return this.sustainPedalChannel[channel]
        }
        ,
        ke.prototype.getPanChannel = function(channel) {
            return (this.panChannel[channel] - 64) / 63 * 100
        }
        ,
        ke.prototype.getVolumeChannel = function(channel) {
            return (this.volumeChannel[channel] * (this.expressionChannel[channel] / 127)) / 100
        }
        ,
        ke.prototype.getPitchBend = function(channel) {
            if (channel == 9) {
                return 0
            }
            ;var value = this.dataEntryMSB[channel];
            return (((this.pitchBendChannel[channel] - 8192) / 8192) * value)
        }
        ,
        ke.prototype._startNote = function(n) {
            if (this.isEffect && n.track)
                if (this.getSustainPedalChannel(n.channel) > 0)
                    n.setDurationInf = true
        }
        ,
        ke.prototype._updateEffectNote = function(n) {
            if (this.isEffect && n.track) {
                n.source.playbackRate.value = Math.pow(2, (((n.pitch + this.getPitchBend(n.channel)) - 60) / 12));
                n.note.gain.value = n.volume * this.getVolumeChannel(n.channel);
                if (n.pan) {
                    var p = (this.getPanChannel(n.channel) + 100) / 200
                      , v = Math.cos(p * Math.PI / 2)
                      , b = Math.sin(p * Math.PI / 2);
                    n.pan.leftGain.gain.setValueAtTime(v, this.audioContext.currentTime),
                    n.pan.rightGain.gain.setValueAtTime(b, this.audioContext.currentTime)
                }
            } else {
                n.source.playbackRate.value = Math.pow(2, ((n.pitch - 60) / 12)),
                n.note.gain.value = n.volume,
                n.duration = n.dur
            }
        }
        ,
        ke.prototype._step = function() {
            this.DateTime = (Date.now() - this.frameStart) / 1000;
            if (this.currentTime > this.duration && !this.isPaused) {
                this.currentTime = this.duration;
                this.setStartTime(this.duration);
                for (var i = 0; i < this.notesPlaying.length; i++) {
                    var dn = this.notesPlaying[i];
                    if (dn)
                        dn.ended = true
                }
                if (this.onended)
                    this.onended();
                this.isPaused = true
            }
            this._currentTimeLast = this.currentTime;
            if (!this.isPaused && !this.muteMusicr) {
                this.currentTime = ((Date.now() - this.startTime) * this.speed) / 1000
            }
            this.stepUpdateTrack(),
            this.stepNotesPlaying(),
            this.stepPlayingNote();
            if (this.muteMusicr)
                this.muteMusicr = false;
            this.frameStart = Date.now();
        }
        ,
        ke.prototype.stepUpdateTrack = function() {
            if (this._currentTimeLast == this.currentTime) {
                return;
            }
            var f = this._currentTimeLast * 1000000;
            var d = this.currentTime * 1000000;
            if (d > f) {
                while (true) {
                    if (d > f) {
                        this._stepUpdateTrack(f, 1)
                    } else {
                        f = d,
                        this._stepUpdateTrack(f, 1);
                        break
                    }
                    f += 100000
                }
            } else {
                if (d < f) {
                    while (true) {
                        if (d < f) {
                            this._stepUpdateTrack(f, -1)
                        } else {
                            f = d,
                            this._stepUpdateTrack(f, -1);
                            break;
                        }
                        f -= 100000
                    }
                }
            }
        }
        ,
        ke.prototype._stepUpdateTrack = function(g, h) {
            if (h !== 0) {
            	var j = 0;
	            for (var i = 0; i < this.trackQueue.length; i++) {
	                var k = this.trackQueue[i]
	                  , l = k.decodeTempoQueue;
	                if (this.isTempoTrack) {
	                    j = (k.tempoTick + ((g - k.tempoTime) / k.tempo));
	                    if (h > 0) {
	                        while (k.tempoTracker < l.tick.length && j >= l.tick[k.tempoTracker]) {
	                            k.tempoTime += (l.tick[k.tempoTracker] - k.tempoTick) * k.tempo,
	                            k.tempoTick = l.tick[k.tempoTracker],
	                            k.tempo = l.setting[k.tempoTracker] / this.timeDivision,
	                            j = (k.tempoTick + ((g - k.tempoTime) / k.tempo)),
	                            k.tempoTracker += 1
	                        }
	                    } else {
	                        if (h < 0) {
	                            k.tempoTracker -= 1;
	                            while (k.tempoTracker >= 0 && j < l.tick[k.tempoTracker]) {
	                                k.tempoTracker -= 1;
	                                if (k.tempoTracker >= 0) {
	                                    k.tempo = l.setting[k.tempoTracker] / this.timeDivision,
	                                    k.tempoTime += (l.tick[k.tempoTracker] - k.tempoTick) * k.tempo,
	                                    k.tempoTick = l.tick[k.tempoTracker];
	                                } else {
	                                    k.tempo = 500000 / this.timeDivision,
	                                    k.tempoTime = 0,
	                                    k.tempoTick = 0;
	                                }
	                                j = (k.tempoTick + ((g - k.tempoTime) / k.tempo))
	                            }
	                            k.tempoTracker += 1
	                        }
	                    }
	                    k.currentPulse = j
	                } else {
	                    j = (this._tempoTracker + ((g - this._tempoTime) / this._tempo));
	                    if (h > 0) {
	                        while (k.tempoTracker < l.tick.length && j >= l.tick[k.tempoTracker]) {
	                            this._tempoTime += (l.tick[k.tempoTracker] - this._tempoTracker) * this._tempo,
	                            this._tempoTracker = l.tick[k.tempoTracker],
	                            this._tempo = l.setting[k.tempoTracker] / this.timeDivision,
	                            j = (this._tempoTracker + ((g - this._tempoTime) / this._tempo)),
	                            k.tempoTracker += 1
	                        }
	                    } else {
	                        if (h < 0) {
	                            k.tempoTracker -= 1;
	                            while (k.tempoTracker >= 0 && j < l.tick[k.tempoTracker]) {
	                                k.tempoTracker -= 1;
	                                if (k.tempoTracker >= 0) {
	                                    this._tempo = l.setting[k.tempoTracker] / this.timeDivision,
	                                    this._tempoTime += (l.tick[k.tempoTracker] - this._tempoTracker) * this._tempo,
	                                    this._tempoTracker = l.tick[k.tempoTracker]
	                                } else {
	                                    this._tempo = 500000 / this.timeDivision,
	                                    this._tempoTime = 0,
	                                    this._tempoTracker = 0
	                                }
	                                j = (this._tempoTracker + ((g - this._tempoTime) / this._tempo))
	                            }
	                            k.tempoTracker += 1
	                        }
	                    }
	                }
	            };
	            if (!this.isTempoTrack) {
	                this._currentPulse = (this._tempoTracker + ((g - this._tempoTime) / this._tempo));
	                for (var i = 0; i < this.trackQueue.length; i++)
	                    this.trackQueue[i].currentPulse = this._currentPulse,
	                    this.trackQueue[i].tempoTick = this._tempoTracker,
	                    this.trackQueue[i].tempoTime = this._tempoTime,
	                    this.trackQueue[i].tempo = this._tempo
	            };
	            for (var i = 0; i < this.trackQueue.length; i++) {
	                this.trackQueue[i].update()
	            }
            }
        }
        ,
        ke.prototype.stepPlayingNote = function() {
            var jl = [];
            for (var i = 0; i < this.trackQueue.length; i++) {
                var d = this.trackQueue[i];
                var decodeNoteQueue = d.decodeNoteQueue;
                var fh = d.getNote(this.muteMusicr);
                for (var i1 = 0; i1 < fh.length; i1++) {
                    var n = fh[i1]
                      , a = decodeNoteQueue.channel[n]
                      , s = (a == 9 ? 0 : (this.programChannel[a] + 1))
                      , f = decodeNoteQueue.tickOff[n]
                      , g = decodeNoteQueue.tickOn[n]
                      , h = decodeNoteQueue.pitch[n]
                      , volume = decodeNoteQueue.velocity[n] - 1;
                    if (!volume)
                        continue;
                    if (s > 0) {
                        if (this.onplaynote)
                            this.onplaynote({
                                pitch: h,
                                dur: ((f - g) * d.tempo) / 1000000,
                                instrument: s,
                                volume: (volume / 126),
                                channel: a,
                                type: 1
                            });
                        jl.push({
                            type: 1,
                            instrument: s,
                            pitch: h,
                            volume: volume,
                            channel: a,
                            track: this.trackQueue[i].trackNumber,
                            nodeOff: f,
                            nodeOn: g
                        });
                    } else {
                        if (this.onplaynote) {
                            this.onplaynote({
                                drum: h,
                                volume: (volume / 126),
                                channel: a,
                                type: 0
                            })
                        }
                        jl.push({
                            type: 0,
                            drum: h,
                            volume: volume,
                            channel: a,
                            track: d.trackNumber,
                            nodeOff: f,
                            nodeOn: g
                        });
                    }
                }
            }
            if ((!this.isPaused) && this.node.gain.value) {
                var _l = Math.min(this.notesPlaying.length, jl.length);
                for (var i = 0; i < _l; i++) {
                    var g = jl[i];
                    var h = null;
                    var f = -1;
                    for (var i6 = 0; i6 < this.notesPlaying.length; i6++) {
                        var k = this.notesPlaying[i6];
                        if (!k) {
                            continue;
                        }
                        if (k.channel == g.channel) {
                            if (k._instrument > 0 && g.type == 1) {
                                if (k._instrument == g.instrument && k._pitch == g.pitch) {
                                    h = k,
                                    f = i6;
                                    break
                                }
                            } else {
                                if (k._instrument == 0 && g.type == 0) {
                                    if (k._pitch == g.drum) {
                                        h = k,
                                        f = i6;
                                        break
                                    }
                                }
                            }
                        }
                    }
                    ;if (h) {
                        h.source.removeEventListener("ended", n.endedFunction);
                        h.source.disconnect();
                        h.note.disconnect();
                        h.ended = true;
                        if (g.type == 1 && h.release && !h.release.ended && !h.setDurationInf) {
                            var j = Math.min(h.nodeOff, g.nodeOff);
                            if (h.nodeOff >= g.nodeOff && h.nodeOff <= g.nodeOn)
                                g.nodeOff = j;
                        }
                        this.notesPlaying[f] = null;
                    }
                    this._playNotes(g, f)
                }
            }
        }
        ,
        ke.prototype.stepNotesPlaying = function() {
            for (let i = this.notesPlaying.length; i--; ) {
                var n = this.notesPlaying[i];
                if (!n) {
                    continue;
                }
                if (!n.ended) {
                    if (n.release) {
                        var h = this.trackQueue[n.track - 1];
                        if (!n.release.ended && (!n.setDurationInf && h.currentPulse >= n.nodeOff)) {
                            n.release.ended = true
                        }
                        if (n.release.ended) {
                            if (!("startTime"in n.release)) {
                                n.release.startTime = Date.now()
                            }
                            if (n.release.duration) {
                                n.release.releaseGain.gain.value = Math.max(0, (1 - ((Date.now() - n.release.startTime) / n.release.duration)));
                                if ((Date.now() - n.release.startTime) >= n.release.duration) {
                                    n.ended = true
                                }
                            } else {
                                n.ended = true
                            }
                        }
                    }
                    ;this._updateEffectNote(n)
                }
                if (n.ended) {
                    n.source.removeEventListener("ended", n.endedFunction),
                    n.source.disconnect(),
                    n.note.disconnect(),
                    this.notesPlaying[i] = null
                }
            }
        }
        ,
        ke.prototype.loadMid = function(data) {
            this.stop(),
            this.cleanup();
            var n = new yu(data)
              , v = Date.now()
              , b = n.parse();
            this.loadedTime = Date.now() - v;
            this.loadMidi(b)
        }
        ,
        ke.prototype.toJSON = function() {
            var obj = {};
            var h = [];
            for (var i = 0; i < this.trackQueue.length; i++) {
                h.push(this.trackQueue[i].toJSON())
            }
            ;return obj.tracks = h,
            obj.timeDivision = this.timeDivision,
            obj.formatType = this.formatType,
            obj.duration = this.duration,
            obj
        }
        ,
        ke.prototype.loadMidi = function(j) {
            var jg = j.tracks
              , a = 0;
            this.stop(),
            this.cleanup(),
            this.trackQueue = [],
            this.timeDivision = j.timeDivision,
            this.formatType = j.formatType,
            this.isTempoTrack = this.formatType == 2;
            for (var i = 0; i < jg.length; i++)
                this.trackQueue.push(new hj(this,i + 1,jg[i]));
            this._tempo = 500000 / j.timeDivision;
            if (this.isTempoTrack) {
                for (var i = 0; i < this.trackQueue.length; i++) {
                    var g = this.trackQueue[i].decodeTempoQueue
                      , d = 0
                      , l = 500000 / this.timeDivision
                      , h = 0;
                    for (var _i = 0; _i < g.tick.length; _i++) {
                        h += (g.tick[_i] - d) * l,
                        d = g.tick[_i]
                    }
                    h += (this.trackQueue[i].pulseCounterLength - d) * l;
                    if (h > a) {
                        a = h
                    }
                }
            } else {
                var k = 0;
                var jq = [];
                for (var i = 0; i < this.trackQueue.length; i++) {
                    var len = this.trackQueue[i].pulseCounterLength;
                    if (len > k) {
                        k = len
                    }
                    jq.push({
                        tempoTracker: 0
                    })
                }
                var d = 0;
                var l = 500000 / this.timeDivision;
                var h = 0;
                var s = this.getTempoLength();
                var f = 0;
                while (f < s) {
                    var v = 0;
                    for (var i = 0; i < jq.length; i++) {
                        var g = this.trackQueue[i].decodeTempoQueue;
                        v = (d + ((h - a) / l));
                        while (jq[i].tempoTracker < g.tick.length && v >= g.tick[jq[i].tempoTracker])
                            a += (g.tick[jq[i].tempoTracker] - d) * l,
                            d = g.tick[jq[i].tempoTracker],
                            l = g.setting[jq[i].tempoTracker] / this.timeDivision,
                            v = (d + ((h - a) / l)),
                            jq[i].tempoTracker += 1,
                            f += 1;
                    }
                    h += 100000
                }
                a += (k - d) * l;
            }
            this.resetTrack(),
            this.duration = Math.floor(a / 1000) / 1000;
            if (this.onload)
                this.onload()
        }
        ;
        z.exports = ke
    },
    './src/index.js': function(z, x, c) {
        var ke = c("./src/player.js")
          , jf = c("./src/soundbank.js");
        x.Player = ke,
        x.MIDI_INSTRUMENT = jf.MIDI_INSTRUMENT,
        x.DRUMS_MIDI = jf.DRUMS_MIDI,
        x.DRUM_INFO = jf.DRUM_INFO,
        x.INSTRUMENT_INFO = jf.INSTRUMENT_INFO,
        window.AnimTredInstruments = x
    }
});
